
define service{
  name                            passive-service
  use                             generic-service
  active_checks_enabled           0       ; Active service checks are disabled
  passive_checks_enabled          1       ; Passive service checks are enabled/accepted
  check_freshness                 1       ; Check service 'freshness'
  contact_groups                  contact_warnings, contact_criticals, pagerduty_group
  notification_period             never
  notification_interval           30
  register                        0       ; DONT REGISTER THIS DEFINITION - ITS NOT A REAL SERVICE, JUST A TEMPLATE!
}


define command{
  command_name    check_false
  command_line    /bin/false
}
define service{
  name couchbase-check
  use passive-service
  check_command check_false
}

<% @checks.each do |check| %>
define service{
  use                 couchbase-check
  name                <%= check %>
  service_description <%= check %>
  hostgroup_name      <%= @hostgroups.join(", ") %>
}
<% end %>
